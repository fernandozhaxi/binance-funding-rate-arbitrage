# binance-funding-rate-arbitrage

一个支持在币安一键进行资金费套利的工具。

API 文档：https://binance-docs.github.io/apidocs/delivery/cn/#1045de04a1

## 背景

### 什么是资金费率

资金费率是多头与空头仓位持有者之间的定期现金流交换。每笔金流的绝对金额会根据永续合约与指标价格间的差异而有所不同。市场看涨时，资金费率通常为正。多头仓位交易者会付钱给空头交易者。相反地，市场看跌时资金费率通常为负，空头仓位交易者会付钱给多头仓位交易者。

### 为什么资金费率很重要?

永续合约和传统合约的不同之处在于它没有到期日。除非交易者被强制平仓，否则能永久持有其仓位。为确保永续合约之价格反映其标的市场的状况，加密货币交易所建立了称为资金费率的机制。

资金费率主要协助永续合约的价格向标的资产价格收拢。流动性足够时，交易永续合约与在现货市场中交易非常相似。

因此，加密货币交易所创造了一个机制，确保永续合约的价格会对应到指数。这就是所谓的资金费率。

### 如何计算资金费？

- 计算公式
  资金金额 = 持仓名义价值 x 资金费率

其中仓位名义价值 = 标记价格 x 合约规模 (U 本位合约)

- 结算时间
  永续合约的资金费用大多数币种是每 8 小时计算一次，计算时间为香港时间 08:00、16:00 和 24:00
  如当时无持有任何仓位，将不会被收取或支付任何资金费用。

## 功能

- 1.开始套利

  - 使用现货账户的所有 USDT 购入比特币现货
  - 将现货账户中的比特币转入币本位合约账户
  - 开与比特币相等数量的合约，方向为空，杠杆为 1

- 2.结束套利

  - 平仓当前合约
  - 将币本位账户中的比特币转入现货账户
  - 卖出所有比特币，得到 USD

步骤：

1. 拉取市值排名前 50 的币种，资金费列表，按费率高低排序，取前 10
2.
